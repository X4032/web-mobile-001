System.register("chunks:///_virtual/ball.ts",["./rollupPluginModLoBabelHelpers.js","cc","./game2.ts"],(function(t){var e,n,o,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Component},function(t){a=t.game2}],execute:function(){var c;n._RF.push({},"deac95MQZtH0LjxLOgWycRu","ball",void 0);var i=o.ccclass;o.property,t("ball",i("ball")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){},o.update=function(t){this.node.getPosition().y<-1e3&&(this.node.removeFromParent(),a.ClearBall())},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/game.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,i,l,r,o,s,n,b,c,h,u,m,f,g,p,d,w,v,L,y,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Node,n=e.Label,b=e.Prefab,c=e.AudioSource,h=e.EditBox,u=e.sys,m=e.Sprite,f=e.Color,g=e.view,p=e.UITransform,d=e.Vec3,w=e.Graphics,v=e.instantiate,L=e.tween,y=e.director,x=e.Component}],execute:function(){var k,S,C,P,_,z,B,M,I,R,N,G,T,A,F,O,Y,H,X,D,V,j,U,E,J,K,Q,q,W,Z,$,ee,te,ae,ie,le,re,oe,se,ne,be,ce,he,ue,me,fe,ge,pe,de,we,ve,Le,ye,xe,ke,Se,Ce,Pe,_e,ze,Be,Me,Ie,Re,Ne,Ge,Te,Ae,Fe,Oe,Ye,He,Xe,De,Ve,je,Ue,Ee,Je,Ke,Qe,qe,We,Ze,$e;r._RF.push({},"38f2cIVTFdJQKY/jkTcju/Y","game",void 0);var et=o.ccclass,tt=o.property;e("game",(k=et("game"),S=tt(s),C=tt(s),P=tt(s),_=tt(s),z=tt(n),B=tt(n),M=tt(n),I=tt(s),R=tt(s),N=tt(b),G=tt(b),T=tt(b),A=tt(b),F=tt(b),O=tt(b),Y=tt(b),H=tt(b),X=tt(b),D=tt(b),V=tt(b),j=tt(b),U=tt(c),E=tt(c),J=tt(c),K=tt(c),Q=tt(c),q=tt(c),W=tt(s),Z=tt(n),$=tt(n),ee=tt(s),te=tt(s),ae=tt(s),ie=tt(h),le=tt(s),re=tt(n),k((ne=t((se=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"backImg01",ne,l(t)),i(t,"backImg02",be,l(t)),i(t,"backImg03",ce,l(t)),i(t,"back",he,l(t)),i(t,"txtLevel",ue,l(t)),i(t,"txtBox",me,l(t)),i(t,"txtScore",fe,l(t)),i(t,"gameScore",ge,l(t)),i(t,"gameNumber",pe,l(t)),i(t,"gameLevel",de,l(t)),i(t,"gameBox",we,l(t)),i(t,"ballList",ve,l(t)),i(t,"ballPreList",Le,l(t)),i(t,"runStat",ye,l(t)),i(t,"touchStat",xe,l(t)),i(t,"oldX",ke,l(t)),i(t,"oldY",Se,l(t)),i(t,"face",Ce,l(t)),i(t,"showMenu",Pe,l(t)),i(t,"ball0101_prefab",_e,l(t)),i(t,"ball0102_prefab",ze,l(t)),i(t,"ball0201_prefab",Be,l(t)),i(t,"ball0202_prefab",Me,l(t)),i(t,"ball0301_prefab",Ie,l(t)),i(t,"ball0302_prefab",Re,l(t)),i(t,"ball0401_prefab",Ne,l(t)),i(t,"ball0402_prefab",Ge,l(t)),i(t,"ball0501_prefab",Te,l(t)),i(t,"ball0502_prefab",Ae,l(t)),i(t,"ball0601_prefab",Fe,l(t)),i(t,"ball0602_prefab",Oe,l(t)),i(t,"audioMove",Ye,l(t)),i(t,"audioClick",He,l(t)),i(t,"audioClear",Xe,l(t)),i(t,"audioGood",De,l(t)),i(t,"audioGood2",Ve,l(t)),i(t,"nextLeve",je,l(t)),i(t,"end_mission",Ue,l(t)),i(t,"endScore",Ee,l(t)),i(t,"endOrder",Je,l(t)),i(t,"showNext",Ke,l(t)),i(t,"btnAgain",Qe,l(t)),i(t,"btnHome",qe,l(t)),t.graphics=null,t.boxIndex=0,t.imgIndex=1,t.runStat=0,t.gameLevel=3,t.OffsetX=0,t.OffsetY=0,t.MaxRows=7,t.myName="",t.myCode="",i(t,"nameStr",We,l(t)),i(t,"nameBtn",Ze,l(t)),i(t,"changeLabel",$e,l(t)),t}a(t,e);var r=t.prototype;return r.start=function(){var e=u.localStorage.getItem("myName");if(null==this.myName)this.myName="无名氏",this.myCode=this.getRandomName(),u.localStorage.setItem("myName",this.myCode+","+this.myName);else{var t=e.indexOf(",");t>0?(this.myName=e.substr(t+1),this.myCode=e.substr(0,t)):(this.myName="无名氏",this.myCode=this.getRandomName(),u.localStorage.setItem("myName",this.myCode+","+this.myName))}this.showNext.setPosition(900,0);var a=this.showNext.getComponent(m),i=a.color.r,l=a.color.g,r=a.color.b;a.color=new f(i,l,r,0);g.getVisibleSize().width;var o=g.getVisibleSize().height;if(this.btnHome.setPosition(200,-o/2+70),this.btnAgain.setPosition(-180,-o/2+70),o<=1334)this.MaxRows=12;else{var n=Math.round((o-1334)/100);this.MaxRows=11+n-1}this.gameBox=7*this.MaxRows-3,this.back.getComponent(p).height=100*this.MaxRows,this.back.setPosition(new d(0,-50,0)),this.imgIndex=1,this.graphics=this.back.getComponent(w),this.ballList=new Array,this.ballPreList=new Array;for(var b=0;b<7;b++){this.ballList[b]=new Array(b),this.ballPreList[b]=new Array(b);for(var c=0;c<this.MaxRows;c++)this.ballList[b][c]=0,this.ballPreList[b][c]=null}var h=this.end_mission.getComponent(m),v=h.color.r,L=h.color.g,y=h.color.b;h.color=new f(v,L,y,0),this.drawBack(),this.gameLevel=3,this.back.on(s.EventType.TOUCH_START,this.toucBack,this),this.CreateBall(this.gameLevel),this.runStat=1,this.touchStat=0,this.txtLevel.string="1",this.txtScore.string="0",this.txtBox.string=""+this.gameBox,this.gameScore=0,this.gameNumber=0,this.OffsetX=315,this.OffsetY=540},r.update=function(e){},r.drawBack=function(){this.drawBackImg();for(var e=0;e<7;e++){this.boxIndex=e;for(var t=0;t<this.MaxRows;t++)this.boxIndex+=1,this.drawRect(this.graphics,e,t)}},r.drawBackImg=function(){for(;;){var e=this.getRandomLength(0,3)+1;if(e!=this.imgIndex){this.imgIndex=e;break}}switch(this.imgIndex){case 1:this.backImg01.active=!0,this.backImg02.active=!1,this.backImg03.active=!1;break;case 2:this.backImg01.active=!1,this.backImg02.active=!0,this.backImg03.active=!1;break;case 3:default:this.backImg01.active=!1,this.backImg02.active=!1,this.backImg03.active=!0}},r.drawRect=function(e,t,a){var i=new f(156,198,41,210),l=new f(231,235,173,210),r=new f(193,218,174,210),o=new f(240,235,202,210),s=new f(173,174,247,210),n=new f(173,223,215,210),b=new f(156,198,41,210),c=new f(231,235,149,173);switch(this.imgIndex){case 1:b=i,c=l;break;case 2:b=r,c=o;break;case 3:default:b=s,c=n}var h=90*t-315+2,u=90*a-540+2;e.roundRect(h,u,86,86,10),this.boxIndex%2==0?e.fillColor=b:e.fillColor=c,e.fill()},r.getRandomLength=function(e,t){var a=e,i=t-e;return i<0?0:Math.floor(Math.random()*i)+a},r.toucBack=function(e){var t=this;if(0!=t.runStat){var a=e.getUILocation(),i=this.back.getComponent(p).convertToNodeSpaceAR(new d(a.x,a.y,0)),l=i.x+this.OffsetX,r=i.y+this.OffsetY,o=Math.ceil(l/90)-1,s=Math.ceil(r/90)-1;o<0||o>6||s<0||s>this.MaxRows||(this.ballList[o][s]>0?(1==t.touchStat?(t.drawBallFace(o,s,this.ballList[o][s]),t.audioClick.play()):(t.drawBallFace(o,s,this.ballList[o][s]),t.touchStat=1,t.audioClick.play()),t.oldX=o,t.oldY=s):1==t.touchStat&&(this.copyBall(o,s,t.oldX,t.oldY),this.audioMove.play(),this.touchStat=0,this.CreateBall(this.gameLevel),this.ClearBall()))}},r.copyBall=function(e,t,a,i){var l=this.ballList[a][i];this.ballList[e][t]=l,this.ballPreList[a][i].removeFromParent(),null!=this.face&&this.face.removeFromParent(),this.CreateOneBall(e,t,l),this.ballList[a][i]=0},r.drawBallFace=function(e,t,a){var i=this,l=new d(90*e-315+45,90*t-540+45,0);switch(null!=this.face&&this.face.removeFromParent(),a){case 1:this.face=v(this.ball0102_prefab);var r=this.face.getComponent(m),o=r.color.r,s=r.color.g,n=r.color.b;r.color=new f(4*o/5,4*s/5,2*n/3,255),i.back.addChild(this.face),this.face.setPosition(l);break;case 2:this.face=v(this.ball0202_prefab);var b=this.face.getComponent(m),c=b.color.r,h=b.color.g,u=b.color.b;b.color=new f(4*c/5,4*h/5,2*u/3,255),i.back.addChild(this.face),this.face.setPosition(l);break;case 3:this.face=v(this.ball0302_prefab);var g=this.face.getComponent(m),p=g.color.r,w=g.color.g,L=g.color.b;g.color=new f(4*p/5,4*w/5,2*L/3,255),i.back.addChild(this.face),this.face.setPosition(l);break;case 4:this.face=v(this.ball0402_prefab);var y=this.face.getComponent(m),x=y.color.r,k=y.color.g,S=y.color.b;y.color=new f(4*x/5,4*k/5,2*S/3,255),i.back.addChild(this.face),this.face.setPosition(l);break;case 5:this.face=v(this.ball0502_prefab);var C=this.face.getComponent(m),P=C.color.r,_=C.color.g,z=C.color.b;C.color=new f(4*P/5,4*_/5,2*z/3,255),i.back.addChild(this.face),this.face.setPosition(l);break;case 6:this.face=v(this.ball0602_prefab);var B=this.face.getComponent(m),M=B.color.r,I=B.color.g,R=B.color.b;B.color=new f(4*M/5,4*I/5,2*R/3,255),i.back.addChild(this.face),this.face.setPosition(l)}},r.CreateBall=function(e){for(var t=this,a=0,i=0;i<7;i++)for(var l=0;l<this.MaxRows;l++)0==this.ballList[i][l]&&(a+=1);if(a<4)for(var r=1;r<=a;r++)for(var o=0;o<7;o++)for(var s=0;s<this.MaxRows;s++)0==this.ballList[o][s]&&t.SetBallType(o,s,e);else if(a<=15){for(var n=0,b=0;b<7;b++)for(var c=0;c<this.MaxRows;c++)if(0==this.ballList[b][c]){if(!(n<3))break;t.SetBallType(b,c,e),n+=1}}else for(var h=1;h<=3;){var u=Math.floor(7*Math.random()),m=Math.floor(Math.random()*this.MaxRows);0==t.ballList[u][m]&&(t.SetBallType(u,m,e),h+=1)}},r.SetBallType=function(e,t,a){var i=new d(90*e-315+45,90*t-540+45,0),l=this;switch(Math.floor(Math.random()*a)+1){case 1:var r=v(this.ball0101_prefab);l.back.addChild(r),r.setPosition(i),this.ballPreList[e][t]=r,this.ballList[e][t]=1;break;case 2:var o=v(this.ball0201_prefab);l.back.addChild(o),o.setPosition(i),this.ballPreList[e][t]=o,this.ballList[e][t]=2;break;case 3:var s=v(this.ball0301_prefab);l.back.addChild(s),s.setPosition(i),this.ballPreList[e][t]=s,this.ballList[e][t]=3;break;case 4:var n=v(this.ball0401_prefab);l.back.addChild(n),n.setPosition(i),this.ballPreList[e][t]=n,this.ballList[e][t]=4;break;case 5:var b=v(this.ball0501_prefab);l.back.addChild(b),b.setPosition(i),this.ballPreList[e][t]=b,this.ballList[e][t]=5;break;case 6:var c=v(this.ball0601_prefab);l.back.addChild(c),c.setPosition(i),this.ballPreList[e][t]=c,this.ballList[e][t]=6}},r.CreateOneBall=function(e,t,a){var i=new d(90*e-315+45,90*t-540+45,0),l=this;switch(a){case 1:var r=v(this.ball0101_prefab);l.back.addChild(r),r.setPosition(i),this.ballPreList[e][t]=r,this.ballList[e][t]=1;break;case 2:var o=v(this.ball0201_prefab);l.back.addChild(o),o.setPosition(i),this.ballPreList[e][t]=o,this.ballList[e][t]=2;break;case 3:var s=v(this.ball0301_prefab);l.back.addChild(s),s.setPosition(i),this.ballPreList[e][t]=s,this.ballList[e][t]=3;break;case 4:var n=v(this.ball0401_prefab);l.back.addChild(n),n.setPosition(i),this.ballPreList[e][t]=n,this.ballList[e][t]=4;break;case 5:var b=v(this.ball0501_prefab);l.back.addChild(b),b.setPosition(i),this.ballPreList[e][t]=b,this.ballList[e][t]=5;break;case 6:var c=v(this.ball0601_prefab);l.back.addChild(c),c.setPosition(i),this.ballPreList[e][t]=c,this.ballList[e][t]=6}},r.ClearBall=function(){for(var e=this,t=this,a=new Array,i=0;i<7;i++){a[i]=new Array(i);for(var l=0;l<this.MaxRows;l++)a[i][l]=0}for(var r=0,o=0;o<7;o++)for(var s=0;s<this.MaxRows;s++)if(0!=t.ballList[o][s]){var n=this.ballList[o][s];o<=2&&this.ballList[o+1][s]==n&&this.ballList[o+2][s]==n&&this.ballList[o+3][s]==n&&this.ballList[o+4][s]==n&&(a[o][s]=1,a[o+1][s]=1,a[o+2][s]=1,a[o+3][s]=1,a[o+4][s]=1),o<=2&&s<=this.MaxRows-4&&this.ballList[o+1][s+1]==n&&this.ballList[o+2][s+2]==n&&this.ballList[o+3][s+3]==n&&this.ballList[o+4][s+4]==n&&(a[o][s]=1,a[o+1][s+1]=1,a[o+2][s+2]=1,a[o+3][s+3]=1,a[o+4][s+4]=1),o>=4&&s<=this.MaxRows-4&&this.ballList[o-1][s+1]==n&&this.ballList[o-2][s+2]==n&&this.ballList[o-3][s+3]==n&&this.ballList[o-4][s+4]==n&&(a[o][s]=1,a[o-1][s+1]=1,a[o-2][s+2]=1,a[o-3][s+3]=1,a[o-4][s+4]=1),s<=this.MaxRows-4&&this.ballList[o][s+1]==n&&this.ballList[o][s+2]==n&&this.ballList[o][s+3]==n&&this.ballList[o][s+4]==n&&(a[o][s]=1,a[o][s+1]=1,a[o][s+2]=1,a[o][s+3]=1,a[o][s+4]=1)}for(var b=0;b<7;b++)for(var c=function(){if(1==a[b][h]){var e=t.ballPreList[b][h].getComponent(m),i=e.color.r,l=e.color.g,r=e.color.b;L(t.ballPreList[b][h]).to(.1,{scale:new d(.6,.6,0)}).call((function(){L(e).to(.1,{color:new f(i,l,r,0)}).start()})).start()}},h=0;h<this.MaxRows;h++)c();setTimeout((function(){for(var i=0;i<7;i++)for(var l=0;l<e.MaxRows;l++)1==a[i][l]&&(r+=1,e.ballPreList[i][l].removeFromParent(),e.ballList[i][l]=0);e.gameNumber+=r,5==r?(e.gameScore+=10,e.audioClear.play()):6==r?(e.gameScore+=20,e.audioClear.play()):7==r?(e.gameScore+=30,e.audioGood.play()):8==r?(e.gameScore+=40,e.audioGood.play()):9==r?(e.gameScore+=50,e.audioGood2.play()):10==r?(e.gameScore+=60,e.audioGood2.play()):11==r?(e.gameScore+=70,e.audioGood2.play()):12==r?(e.gameScore+=100,e.audioGood2.play()):13==r?(e.gameScore+=120,e.audioGood2.play()):r>=14&&(e.gameScore+=150,e.audioGood2.play()),e.txtScore.string=t.gameScore+"",3==e.gameLevel&&e.gameNumber>=300&&(e.txtLevel.string="2",e.gameLevel=4,e.startGame()),4==e.gameLevel&&e.gameNumber>=1e3&&(e.txtLevel.string="3",e.gameLevel=5,e.startGame()),5==e.gameLevel&&e.gameNumber>=2e3&&(e.txtLevel.string="4",e.gameLevel=6,e.startGame()),6==e.gameLevel&&e.gameNumber>=3e3&&(e.txtLevel.string="5",e.gameLevel=7,e.startGame());for(var o=0,s=0;s<7;s++)for(var n=0;n<e.MaxRows;n++)0==e.ballList[s][n]&&(o+=1);o<=2&&L(e.end_mission).to(.1,{position:new d(0,0,0)}).call((function(){var a=e.end_mission.getComponent(m);t.touchStat=0,t.runStat=0,t.endScore.string=""+t.gameScore,e.txtBox.string=""+o;var i=a.color.r,l=a.color.g,r=a.color.b;L(a).to(.2,{color:new f(i,l,r,255)}).start(),e.postScore(t.gameScore)})).start(),t.txtBox.string=""+o}),500)},r.startGame=function(){var e=this;this.nextLeve.play(),L(this.showNext).to(.1,{position:new d(0,0,0)}).call((function(){var t=e.showNext.getComponent(m),a=t.color.r,i=t.color.g,l=t.color.b;L(t).to(.3,{color:new f(a,i,l,255)}).delay(.6).to(.3,{color:new f(a,i,l,0)}).call((function(){L(e.showNext).to(.1,{position:new d(0,0,0)}).start()})).start()})).start();for(var t=0;t<7;t++)for(var a=0;a<this.MaxRows;a++)this.ballList[t][a]>=1&&null!=this.ballPreList[t][a]&&(this.ballPreList[t][a].removeFromParent(),this.ballPreList[t][a]=null),this.ballList[t][a]=0;this.drawBackImg(),this.runStat=1,this.touchStat=1,this.gameBox=7*this.MaxRows-3,this.txtBox.string=""+this.gameBox,this.gameNumber=0,this.CreateBall(this.gameLevel)},r.startGame2=function(){var e=this,t=this.end_mission.getComponent(m),a=t.color.r,i=t.color.g,l=t.color.b;L(t).to(.2,{color:new f(a,i,l,0)}).call((function(){L(e.end_mission).to(.1,{position:new d(900,0,0)}).start()})).start();for(var r=0;r<7;r++)for(var o=0;o<this.MaxRows;o++)this.ballList[r][o]>=1&&null!=this.ballPreList[r][o]&&(this.ballPreList[r][o].removeFromParent(),this.ballPreList[r][o]=null),this.ballList[r][o]=0;this.drawBackImg(),this.runStat=1,this.touchStat=1,this.gameLevel=3,this.gameBox=7*this.MaxRows-3,this.txtLevel.string="1",this.txtScore.string="0",this.txtBox.string=""+this.gameBox,this.gameScore=0,this.gameNumber=0,this.CreateBall(this.gameLevel)},r.postScore=function(e){this.myCode,this.nameStr.string},r.rename=function(){this.myCode,this.nameStr.string},r.getRandomName=function(){for(var e=new Date,t="wx"+e.getFullYear()+(e.getMonth()+1)+e.getDate()+e.getHours(),a=0;a<8;a++){t+=Math.floor(9*Math.random())}return t},r.goHome=function(){y.loadScene("home",(function(){}))},t}(x)).prototype,"backImg01",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=t(se.prototype,"backImg02",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(se.prototype,"backImg03",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(se.prototype,"back",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(se.prototype,"txtLevel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(se.prototype,"txtBox",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t(se.prototype,"txtScore",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(se.prototype,"gameScore",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pe=t(se.prototype,"gameNumber",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),de=t(se.prototype,"gameLevel",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),we=t(se.prototype,"gameBox",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=t(se.prototype,"ballList",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Le=t(se.prototype,"ballPreList",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=t(se.prototype,"runStat",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xe=t(se.prototype,"touchStat",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ke=t(se.prototype,"oldX",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Se=t(se.prototype,"oldY",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ce=t(se.prototype,"face",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=t(se.prototype,"showMenu",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=t(se.prototype,"ball0101_prefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=t(se.prototype,"ball0102_prefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=t(se.prototype,"ball0201_prefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=t(se.prototype,"ball0202_prefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=t(se.prototype,"ball0301_prefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=t(se.prototype,"ball0302_prefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=t(se.prototype,"ball0401_prefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=t(se.prototype,"ball0402_prefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=t(se.prototype,"ball0501_prefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=t(se.prototype,"ball0502_prefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=t(se.prototype,"ball0601_prefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=t(se.prototype,"ball0602_prefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=t(se.prototype,"audioMove",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=t(se.prototype,"audioClick",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=t(se.prototype,"audioClear",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=t(se.prototype,"audioGood",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=t(se.prototype,"audioGood2",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=t(se.prototype,"nextLeve",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=t(se.prototype,"end_mission",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=t(se.prototype,"endScore",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=t(se.prototype,"endOrder",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=t(se.prototype,"showNext",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=t(se.prototype,"btnAgain",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=t(se.prototype,"btnHome",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=t(se.prototype,"nameStr",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=t(se.prototype,"nameBtn",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=t(se.prototype,"changeLabel",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=se))||oe));r._RF.pop()}}}));

System.register("chunks:///_virtual/game2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,s,l,a,o,r,n,h,u,b,c,f,L,m,p,g,w,d,P,C,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,r=t.Prefab,n=t.Node,h=t.AudioSource,u=t.Label,b=t.view,c=t.Vec3,f=t.UITransform,L=t.UIOpacity,m=t.Collider2D,p=t.Contact2DType,g=t.RigidBody2D,w=t.tween,d=t.director,P=t.instantiate,C=t.Vec2,v=t.Component}],execute:function(){var y,S,T,X,Y,k,B,R,D,z,N,U,M,x,E,H,A,I,_,V,W,F,O,G,Q,j,K,q,J,Z,$,tt,it,et,st,lt,at,ot,rt,nt,ht,ut,bt,ct,ft,Lt,mt,pt,gt,wt,dt,Pt,Ct,vt,yt,St,Tt,Xt,Yt,kt,Bt,Rt,Dt,zt,Nt;a._RF.push({},"cf037QIzNFE0KLhQd47ecwt","game2",void 0);var Ut=o.ccclass,Mt=o.property;t("game2",(y=Ut("game2"),S=Mt(r),T=Mt(r),X=Mt(n),Y=Mt(n),k=Mt(n),B=Mt(n),R=Mt(n),D=Mt(n),z=Mt(n),N=Mt(n),U=Mt(n),M=Mt(r),x=Mt(r),E=Mt(r),H=Mt(r),A=Mt(r),I=Mt(h),_=Mt(h),V=Mt(h),W=Mt(h),F=Mt(n),O=Mt(n),G=Mt(u),Q=Mt(u),j=Mt(u),K=Mt(n),q=Mt(u),y(((Nt=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a))||this,s(i,"ball",$,l(i)),s(i,"ball2",tt,l(i)),s(i,"bk",it,l(i)),s(i,"barUp",et,l(i)),s(i,"barDown",st,l(i)),s(i,"leftBar",lt,l(i)),s(i,"rightBar",at,l(i)),s(i,"topBar",ot,l(i)),s(i,"mushroomUP",rt,l(i)),s(i,"mushroomDown",nt,l(i)),s(i,"redBar",ht,l(i)),i.screenWidth=0,i.screenHeight=0,s(i,"posStart",ut,l(i)),s(i,"posEnd",bt,l(i)),s(i,"oldX",ct,l(i)),s(i,"oldY",ft,l(i)),s(i,"newX",Lt,l(i)),s(i,"newY",mt,l(i)),s(i,"fruit01",pt,l(i)),s(i,"fruit02",gt,l(i)),s(i,"fruit03",wt,l(i)),s(i,"fruit04",dt,l(i)),s(i,"ballList",Pt,l(i)),s(i,"ballPreList",Ct,l(i)),i.offsetX=0,i.offsetY=0,i.timeSpan=0,i.timeSpan2=0,i.times=0,i.mushRoomMoveStep=0,i.isCanTouch=0,i.touchStat=3,i.mushRoomMoveStat=0,s(i,"audioClick",vt,l(i)),s(i,"audioClear",yt,l(i)),s(i,"audioEnd",St,l(i)),s(i,"audioGood",Tt,l(i)),s(i,"endShow",Xt,l(i)),s(i,"readyShow",Yt,l(i)),s(i,"msgLabel",kt,l(i)),s(i,"levelLabel",Bt,l(i)),s(i,"titleLable",Rt,l(i)),s(i,"bottomBar",Dt,l(i)),s(i,"bottomLb",zt,l(i)),i.ClearBallNum=void 0,i}e(i,t);var a=i.prototype;return a.start=function(){this.times=-1,this.screenWidth=b.getVisibleSize().width,this.screenHeight=b.getVisibleSize().height,this.bottomBar.setPosition(new c(0,this.screenHeight/2*-1+150)),this.leftBar.getComponent(f).height=this.screenHeight,this.rightBar.getComponent(f).height=this.screenHeight;var t=this.screenWidth/2*-1+12;this.leftBar.setPosition(t,0),t=this.screenWidth/2-12,this.rightBar.setPosition(t,0),this.topBar.getComponent(f).width=this.screenWidth,this.topBar.setPosition(0,this.screenHeight/2-12);var e=Math.round(this.screenHeight/2)-12;e=e-200-50-10,this.barUp.setPosition(-125,e),this.mushroomUP.setPosition(-300,e+100-10),e=e-200-50-10,this.barDown.setPosition(-125,e),this.mushroomDown.setPosition(90,e+25+100),this.redBar.setPosition(this.screenWidth/2*-1+12,e+100+20),this.endShow.getComponent(L).opacity=0,this.endShow.setPosition(new c(900,0,0)),this.createBox(),this.timeSpan=0,this.times=0,i.gameLevel=1,i.gameStat=1,this.mushRoomMoveStat=0,this.mushRoomMoveStep=0,i.ClearBallNum=0,this.bottomLb.string="",this.readyShow.setPosition(new c(0,e+100-10,0)),this.readyShow.getComponent(L).opacity=255,this.readyShow.getComponent(u).string="第"+i.gameLevel+"关开始",this.mushroomDown.getComponent(m).on(p.BEGIN_CONTACT,this.mushRoomDownMove,this)},a.mushRoomDownMove=function(t,e,s){if(1==i.gameStat){this.mushRoomMoveStat=1;var l=e.getComponent(g).linearVelocity;l.y=-10,l.x=-10,e.getComponent(g).linearVelocity=l}},i.ClearBall=function(){1==i.gameStat&&(i.ClearBallNum+=1)},a.update=function(t){var e=this;if(1==i.gameStat){if(this.times>=0&&(this.timeSpan+=10*t,this.timeSpan>1&&(this.createBall(),this.times+=1,this.timeSpan=0,this.times>=100&&(this.times=-2),10==this.times&&w(this.readyShow.getComponent(L)).to(.2,{opacity:0}).call((function(){e.readyShow.setPosition(new c(900,0,0))})).start())),-2==this.times&&(this.timeSpan+=25*t,this.timeSpan>100&&(this.createBall2(),this.timeSpan=0)),(-2==this.times||this.times>=50)&&(this.timeSpan2+=10*t,this.timeSpan2>=1)){this.timeSpan2=0;var s=this.mushroomUP.getPosition().x,l=this.mushroomUP.getPosition().y;if(s<78&&this.mushroomUP.setPosition(new c(s+2,l,0)),1==this.mushRoomMoveStat){var a=this.mushroomDown.getPosition();i.gameLevel>=3?(this.mushRoomMoveStep+=1,this.mushRoomMoveStat>=1&&(this.mushroomDown.setPosition(new c(a.x-1,a.y,0)),this.mushRoomMoveStep=0)):this.mushroomDown.setPosition(new c(a.x-1,a.y,0))}}this.mushroomDown.getPosition().x<-290&&(i.gameStat=-1,this.endShow.setPosition(new c(0,0,0)),this.endShow.getComponent(L).opacity=255,this.mushRoomMoveStat=0,this.titleLable.string="第"+i.gameLevel+"关",this.msgLabel.string="闯关失败！",this.levelLabel.string="重来",this.audioEnd.play());var o=0;switch(i.gameLevel){case 1:o=40-i.ClearBallNum;break;case 2:o=50-i.ClearBallNum;break;case 3:o=30-i.ClearBallNum;break;case 4:o=50-i.ClearBallNum;break;default:o=80-i.ClearBallNum}o<=0&&(o=0,i.gameStat=0,this.endShow.setPosition(new c(0,0,0)),this.endShow.getComponent(L).opacity=255,this.mushRoomMoveStat=0,this.audioGood.play(),this.titleLable.string="第"+i.gameLevel+"关",this.msgLabel.string="闯关成功！",i.gameLevel+=1,this.levelLabel.string="下一关"),this.bottomLb.string="还需落入"+o+"个"}},a.gameOver=function(){for(var t=this.bk.children,e=0;e<t.length;e++){t[e].destroy()}this.times=-1;var s=Math.round(this.screenHeight/2)-12;s=s-200-50-10,this.mushroomUP.setPosition(-300,s+100-10),s=s-200-50-10,this.mushroomDown.setPosition(90,s+25+100),this.endShow.getComponent(L).opacity=0,this.endShow.setPosition(new c(900,0,0)),this.createBox(),this.timeSpan=0,this.times=0,i.gameStat=1,this.mushRoomMoveStat=0,this.mushRoomMoveStep=0,i.ClearBallNum=0,this.bottomLb.string="",this.readyShow.setPosition(new c(0,s+100-10,0)),this.readyShow.getComponent(L).opacity=255,this.readyShow.getComponent(u).string="第"+i.gameLevel+"关开始"},a.goHome=function(){d.loadScene("home",(function(){}))},a.upMushroomMove=function(){var t=this.mushroomUP.getPosition();w(this.mushroomUP).delay(8).to(30,{position:new c(75,t.y,0)}).start()},a.createBall=function(){var t=this.getRandomLength(-10,30),i=this.mushroomUP.getPosition(),e=P(this.ball);this.bk.addChild(e),e.setPosition(i.x+100+t,i.y)},a.createBall2=function(){var t=this,e=this.getRandomLength(-5,20),s=P(this.ball2);this.bk.addChild(s),s.setPosition(this.barDown.getPosition().x+260+e,this.screenHeight/2-100+e);var l=0;l=i.gameLevel<=1?1:i.gameLevel<=3?2:3,setTimeout((function(){for(var i=1;i<=l;i++)e=t.getRandomLength(-5,5),s=P(t.ball2),t.bk.addChild(s),s.setPosition(t.barDown.getPosition().x+260+e+20*i,t.screenHeight/2-100+e)}),500)},a.createBox=function(){var t=this.barDown.getPosition();this.ballList=new Array;for(var e=0;e<10;e++){this.ballList[e]=new Array(e),this.ballPreList[e]=new Array(e);for(var s=0;s<11;s++)this.ballList[e][s]=0,this.ballPreList[e][s]=null}var l=-350,a=t.y-25-770;this.offsetX=l,this.offsetY=a;for(var o=0;o<10;o++)for(var r=0;r<11;r++){var h=0;h=i.gameLevel>=3?this.getRandomLength(1,5):this.getRandomLength(1,4);var u=P(this.fruit01);u=P(1==h?this.fruit01:2==h?this.fruit02:3==h?this.fruit03:this.fruit04),this.ballList[o][r]=h,this.ballPreList[o][r]=u,this.bk.addChild(this.ballPreList[o][r]);var b=l+70*o+35,f=a+70*r+35;this.ballPreList[o][r].setPosition(new c(b,f,0))}if(this.getRandomLength(1,6)>=3){this.ballList[8][10]=0,this.ballPreList[8][10].destroy(),this.ballList[9][10]=0,this.ballPreList[9][10].destroy();var L=this.ballList[8][9],m=this.ballList[9][9];1==L?(this.ballPreList[8][10]=P(this.fruit01),this.ballList[8][10]=L):2==L?(this.ballPreList[8][10]=P(this.fruit02),this.ballList[8][10]=L):3==L?(this.ballPreList[8][10]=P(this.fruit03),this.ballList[8][10]=L):(this.ballPreList[8][10]=P(this.fruit04),this.ballList[8][10]=L),1==m?(this.ballPreList[9][10]=P(this.fruit01),this.ballList[9][10]=m):2==m?(this.ballPreList[9][10]=P(this.fruit02),this.ballList[9][10]=m):3==m?(this.ballPreList[9][10]=P(this.fruit03),this.ballList[9][10]=m):(this.ballPreList[9][10]=P(this.fruit04),this.ballList[9][10]=m);var p=a+700+35;this.ballPreList[8][10].setPosition(new c(245,p,0));var g=a+700+35;this.ballPreList[9][10].setPosition(new c(315,g,0)),this.bk.addChild(this.ballPreList[8][10]),this.bk.addChild(this.ballPreList[9][10])}else{this.ballList[9][10]=0,this.ballPreList[9][10].removeFromParent(),this.ballList[9][9]=0,this.ballPreList[9][9].removeFromParent();var w=this.ballList[8][9],d=this.ballList[8][10];1==w?(this.ballPreList[9][9]=P(this.fruit01),this.ballList[9][9]=w):2==w?(this.ballPreList[9][9]=P(this.fruit02),this.ballList[9][9]=w):3==w?(this.ballPreList[9][9]=P(this.fruit03),this.ballList[9][9]=w):(this.ballPreList[9][9]=P(this.fruit04),this.ballList[9][9]=w),1==d?(this.ballPreList[9][10]=P(this.fruit01),this.ballList[9][10]=d):2==d?(this.ballPreList[9][10]=P(this.fruit02),this.ballList[9][10]=d):3==d?(this.ballPreList[9][10]=P(this.fruit03),this.ballList[9][10]=d):(this.ballPreList[9][10]=P(this.fruit04),this.ballList[9][10]=d);var C=a+630+35;this.ballPreList[9][9].setPosition(new c(315,C,0));var v=a+700+35;this.ballPreList[9][10].setPosition(new c(315,v,0)),this.bk.addChild(this.ballPreList[9][9]),this.bk.addChild(this.ballPreList[9][10])}this.bk.on(n.EventType.TOUCH_START,this.touchStart,this),this.bk.on(n.EventType.TOUCH_END,this.touchEnd,this),this.isCanTouch=1},a.touchStart=function(t){if(1==this.isCanTouch){this.audioClick.play(),this.posStart=t.getUILocation();var i=this.bk.getComponent(f).convertToNodeSpaceAR(new c(this.posStart.x,this.posStart.y,0)),e=i.x-this.offsetX,s=i.y-this.offsetY;if(this.oldX=Math.ceil(e/70)-1,this.oldY=Math.ceil(s/70)-1,this.oldX<0&&this.oldX>9)return void(this.isCanTouch=1);if(this.oldY<0&&this.oldY>10)return void(this.isCanTouch=1);this.isCanTouch=0}else this.newX=-1,this.newY=-1,this.oldX=-1,this.oldY=-1,this.isCanTouch=1},a.touchEnd=function(t){switch(this.posEnd=t.getUILocation(),this.getTouchDirection()){case 1:this.newX=this.oldX+1,this.newY=this.oldY,this.newX<10&&this.ballList[this.newX][this.newY]>0?this.BallToRight(this.oldX,this.oldY,this.newX,this.newY):this.ChangeTouchuStat();break;case 2:this.newX=this.oldX,this.newY=this.oldY-1,this.newY>=0&&this.ballList[this.newX][this.newY]>0?this.BallToDwon(this.oldX,this.oldY,this.newX,this.newY):this.ChangeTouchuStat();break;case 3:this.newX=this.oldX-1,this.newY=this.oldY,this.newX>=0&&this.ballList[this.newX][this.newY]>0?this.BallToLeft(this.oldX,this.oldY,this.newX,this.newY):this.ChangeTouchuStat();break;case 4:this.newX=this.oldX,this.newY=this.oldY+1,this.newY>=0&&this.ballList[this.newX][this.newY]>0?this.BallToUp(this.oldX,this.oldY,this.newX,this.newY):this.ChangeTouchuStat();break;default:this.ChangeTouchuStat()}this.isCanTouch=1},a.getTouchDirection=function(){var t=new C(this.posEnd.x-this.posStart.x,this.posEnd.y-this.posStart.y).signAngle(new C(1,0))/Math.PI*180;return t>-20&&t<20?1:t>70&&t<110?2:t>160&&t<=180||t<-160&&t>=-180?3:t>-110&&t<-70?4:0},a.BallToRight=function(t,i,e,s){var l=this;if(t>=0&&t<10&&i>=0&&i<11)if(e>=1&&e<10&&s>=0&&s<11)if(this.ballList[t][i]>0&&this.ballList[e][s]>0){var a=this.ballList[t][i],o=this.ballList[e][s],r=this.CheckColNum(a,e,s),n=this.CheckColNum(o,t,i),h=this.CheckRightLast(a,e,s),u=this.CheckLeftLast(o,t,i);if(r<2&&n<2&&h<2&&u<2){var b=this.offsetX+70*t+35,f=this.offsetY+70*i+35,L=this.offsetX+70*e+35,m=this.offsetY+70*s+35,p=new c(L,m,0),g=new c(b,f,0);w(this.ballPreList[t][i]).to(.3,{position:p}).start(),w(this.ballPreList[e][s]).to(.3,{position:g}).call((function(){w(l.ballPreList[t][i]).to(.2,{position:g}).start(),w(l.ballPreList[e][s]).to(.2,{position:p}).start(),l.ChangeTouchuStat()})).start()}if(r>=2||n>=2||h>=2||u>=2){this.audioClear.play();var d=this.offsetX+70*t+35,P=this.offsetY+70*i+35,C=this.offsetX+70*e+35,v=this.offsetY+70*s+35,y=new c(C,v,0),S=new c(d,P,0);w(this.ballPreList[t][i]).to(.3,{position:y}).start(),w(this.ballPreList[e][s]).to(.3,{position:S}).call((function(){var b=l.ballPreList[e][s];l.ballPreList[e][s]=l.ballPreList[t][i],l.ballPreList[t][i]=b;var c=l.ballList[t][i],f=l.ballList[e][s];l.ballList[t][i]=l.ballList[e][s],l.ballList[e][s]=c,r>=2&&l.ClearColNum(c,e,s),n>=2&&l.ClearColNum(f,t,i),h>=2&&l.ClearRightLast(a,e,s),u>=2&&l.ClearLeftLast(o,t,i),l.ChangeTouchuStat()})).start()}}else this.ChangeTouchuStat();else this.ChangeTouchuStat();else this.ChangeTouchuStat()},a.BallToLeft=function(t,i,e,s){var l=this;if(t>=1&&t<10&&i>=0&&i<11)if(e>=0&&e<9&&s>=0&&s<11)if(this.ballList[t][i]>0&&this.ballList[e][s]>0){var a=this.ballList[t][i],o=this.ballList[e][s],r=this.CheckColNum(a,e,s),n=this.CheckColNum(o,t,i),h=this.CheckRightLast(o,t,i),u=this.CheckLeftLast(a,e,s);if(n<2&&r<2&&h<2&&u<2){var b=this.offsetX+70*t+35,f=this.offsetY+70*i+35,L=this.offsetX+70*e+35,m=this.offsetY+70*s+35,p=new c(L,m,0),g=new c(b,f,0);w(this.ballPreList[t][i]).to(.3,{position:p}).start(),w(this.ballPreList[e][s]).to(.3,{position:g}).call((function(){w(l.ballPreList[t][i]).to(.2,{position:g}).start(),w(l.ballPreList[e][s]).to(.2,{position:p}).start(),l.ChangeTouchuStat()})).start()}if(n>=2||r>=2||h>=2||u>=2){this.audioClear.play();var d=this.offsetX+70*t+35,P=this.offsetY+70*i+35,C=this.offsetX+70*e+35,v=this.offsetY+70*s+35,y=new c(C,v,0),S=new c(d,P,0);w(this.ballPreList[t][i]).to(.3,{position:y}).start(),w(this.ballPreList[e][s]).to(.3,{position:S}).call((function(){var a=l.ballPreList[e][s];l.ballPreList[e][s]=l.ballPreList[t][i],l.ballPreList[t][i]=a;var o=l.ballList[t][i],b=l.ballList[e][s];l.ballList[t][i]=l.ballList[e][s],l.ballList[e][s]=o,n>=2&&l.ClearColNum(b,t,i),r>=2&&l.ClearColNum(o,e,s),h>=2&&l.ClearRightLast(b,t,i),u>=2&&l.ClearLeftLast(o,e,s),l.ChangeTouchuStat()})).start()}}else this.isCanTouch=this.touchStat;else this.isCanTouch=this.touchStat;else this.isCanTouch=this.touchStat},a.BallToUp=function(t,i,e,s){var l=this;if(t>=0&&t<10&&i>=0&&i<10)if(e>=0&&e<10&&s>=1&&s<11)if(this.ballList[t][i]>0&&this.ballList[e][s]>0){var a=this.ballList[t][i],o=this.ballList[e][s],r=this.CheckRowNum(a,s,e),n=this.CheckRowNum(o,i,t),h=this.CheckDownToUpLast(a,e,s),u=this.CheckUpToDownLast(o,t,i);if(r<2&&n<2&&h<2&&u<2){var b=this.offsetX+70*t+35,f=this.offsetY+70*i+35,L=this.offsetX+70*e+35,m=this.offsetY+70*s+35,p=new c(L,m,0),g=new c(b,f,0);w(this.ballPreList[t][i]).to(.3,{position:p}).start(),w(this.ballPreList[e][s]).to(.3,{position:g}).call((function(){w(l.ballPreList[t][i]).to(.2,{position:g}).start(),w(l.ballPreList[e][s]).to(.2,{position:p}).start(),l.ChangeTouchuStat()})).start()}if(r>=2||n>=2||h>=2||u>=2){this.audioClear.play();var d=this.offsetX+70*t+35,P=this.offsetY+70*i+35,C=this.offsetX+70*e+35,v=this.offsetY+70*s+35,y=new c(C,v,0),S=new c(d,P,0);w(this.ballPreList[t][i]).to(.3,{position:y}).start(),w(this.ballPreList[e][s]).to(.3,{position:S}).call((function(){var a=l.ballPreList[e][s];l.ballPreList[e][s]=l.ballPreList[t][i],l.ballPreList[t][i]=a;var o=l.ballList[t][i],b=l.ballList[e][s];l.ballList[t][i]=l.ballList[e][s],l.ballList[e][s]=o,r>=2&&l.ClearRowNum(o,s,e),n>=2&&l.ClearRowNum(b,i,t),h>=2&&l.ClearDownUPLast(o,e,s),u>=2&&l.ClearUpDownLast(b,t,i),l.ChangeTouchuStat()})).start()}}else this.isCanTouch=this.touchStat;else this.isCanTouch=this.touchStat;else this.isCanTouch=this.touchStat},a.BallToDwon=function(t,i,e,s){var l=this;if(t>=0&&t<10&&i>=1&&i<11)if(e>=0&&e<10&&s>=0&&s<10)if(this.ballList[t][i]>0&&this.ballList[e][s]>0){var a=this.ballList[t][i],o=this.ballList[e][s],r=this.CheckRowNum(a,s,e),n=this.CheckRowNum(o,i,t),h=this.CheckUpToDownLast(a,e,s),u=this.CheckDownToUpLast(o,t,i);if(n<2&&r<2&&h<2&&u<2){var b=this.offsetX+70*t+35,f=this.offsetY+70*i+35,L=this.offsetX+70*e+35,m=this.offsetY+70*s+35,p=new c(L,m,0),g=new c(b,f,0);w(this.ballPreList[t][i]).to(.3,{position:p}).start(),w(this.ballPreList[e][s]).to(.3,{position:g}).call((function(){w(l.ballPreList[t][i]).to(.2,{position:g}).start(),w(l.ballPreList[e][s]).to(.2,{position:p}).start(),l.ChangeTouchuStat()})).start()}if(r>=2||n>=2||h>=2||u>=2){this.audioClear.play();var d=this.offsetX+70*t+35,P=this.offsetY+70*i+35,C=this.offsetX+70*e+35,v=this.offsetY+70*s+35,y=new c(C,v,0),S=new c(d,P,0);w(this.ballPreList[t][i]).to(.3,{position:y}).start(),w(this.ballPreList[e][s]).to(.3,{position:S}).call((function(){var b=l.ballPreList[e][s];l.ballPreList[e][s]=l.ballPreList[t][i],l.ballPreList[t][i]=b;var c=l.ballList[t][i],f=l.ballList[e][s];l.ballList[t][i]=l.ballList[e][s],l.ballList[e][s]=c,r>=2&&l.ClearRowNum(c,s,e),n>=2&&l.ClearRowNum(f,i,t),h>=2&&l.ClearUpDownLast(a,e,s),u>=2&&l.ClearDownUPLast(o,t,i),l.ChangeTouchuStat()})).start()}}else this.isCanTouch=this.touchStat;else this.isCanTouch=this.touchStat;else this.isCanTouch=this.touchStat},a.ChangeTouchuStat=function(){this.isCanTouch=1,this.newY=-1,this.newX=-1,this.oldX=-1,this.oldY=-1},a.CheckColNum=function(t,i,e){for(var s=0,l=e+1;l<11&&this.ballList[i][l]==t;l++)s+=1;for(var a=e-1;a>=0&&this.ballList[i][a]==t;a--)s+=1;return s},a.ClearColNum=function(t,i,e){for(var s=this,l=function(e){if(s.ballList[i][e]!=t)return 1;w(s.ballPreList[i][e].getComponent(L)).to(.2,{opacity:0}).call((function(){s.ballPreList[i][e].destroy(),s.ballList[i][e]=0})).start()},a=e;a<11&&!l(a);a++);for(var o=function(e){if(s.ballList[i][e]!=t)return 1;w(s.ballPreList[i][e].getComponent(L)).to(.2,{opacity:0}).call((function(){s.ballPreList[i][e].destroy(),s.ballList[i][e]=0})).start()},r=e-1;r>=0&&!o(r);r--);},a.CheckRowNum=function(t,i,e){for(var s=0,l=e+1;l<10&&this.ballList[l][i]==t;l++)s+=1;for(var a=e-1;a>=0&&this.ballList[a][i]==t;a--)s+=1;return s},a.ClearRowNum=function(t,i,e){for(var s=this,l=function(e){if(s.ballList[e][i]!=t)return 1;w(s.ballPreList[e][i].getComponent(L)).to(.2,{opacity:0}).call((function(){s.ballPreList[e][i].destroy(),s.ballList[e][i]=0})).start()},a=e;a<10&&!l(a);a++);for(var o=function(e){if(s.ballList[e][i]!=t)return 1;w(s.ballPreList[e][i].getComponent(L)).to(.2,{opacity:0}).call((function(){s.ballPreList[e][i].destroy(),s.ballList[e][i]=0})).start()},r=e-1;r>=0&&!o(r);r--);},a.CheckRightLast=function(t,i,e){for(var s=0,l=i+1;l<10&&this.ballList[l][e]==t;l++)s+=1;return s},a.ClearRightLast=function(t,i,e){var s=this;this.ballList[i][e]==t&&w(this.ballPreList[i][e].getComponent(L)).to(.2,{opacity:0}).call((function(){s.ballPreList[i][e].destroy(),s.ballList[i][e]=0})).start();for(var l=function(i){if(s.ballList[i][e]!=t)return 1;w(s.ballPreList[i][e].getComponent(L)).to(.2,{opacity:0}).call((function(){s.ballPreList[i][e].destroy(),s.ballList[i][e]=0})).start()},a=i+1;a<10&&!l(a);a++);return 0},a.CheckLeftLast=function(t,i,e){for(var s=0,l=i-1;l>=0&&this.ballList[l][e]==t;l--)s+=1;return s},a.ClearLeftLast=function(t,i,e){var s=this;this.ballList[i][e]==t&&w(this.ballPreList[i][e].getComponent(L)).to(.2,{opacity:0}).call((function(){s.ballPreList[i][e].destroy(),s.ballPreList[i][e]=null,s.ballList[i][e]=0})).start();for(var l=function(i){if(s.ballList[i][e]!=t)return 1;w(s.ballPreList[i][e].getComponent(L)).to(.2,{opacity:0}).call((function(){s.ballPreList[i][e].destroy(),s.ballPreList[i][e]=null,s.ballList[i][e]=0})).start()},a=i-1;a>=0&&!l(a);a--);return 0},a.CheckDownToUpLast=function(t,i,e){for(var s=0,l=e+1;l<11&&this.ballList[i][l]==t;l++)s+=1;return s},a.CheckUpToDownLast=function(t,i,e){for(var s=0,l=e-1;l>=0&&this.ballList[i][l]==t;l--)s+=1;return s},a.ClearDownUPLast=function(t,i,e){var s=this;this.ballList[i][e]==t&&w(this.ballPreList[i][e].getComponent(L)).to(.2,{opacity:0}).call((function(){s.ballPreList[i][e].destroy(),s.ballList[i][e]=0})).start();for(var l=function(e){if(s.ballList[i][e]!=t)return 1;w(s.ballPreList[i][e].getComponent(L)).to(.2,{opacity:0}).call((function(){s.ballPreList[i][e].destroy(),s.ballList[i][e]=0})).start()},a=e+1;a<11&&!l(a);a++);return 0},a.ClearUpDownLast=function(t,i,e){var s=this;this.ballList[i][e]==t&&w(this.ballPreList[i][e].getComponent(L)).to(.2,{opacity:0}).call((function(){s.ballPreList[i][e].destroy(),s.ballList[i][e]=0})).start();for(var l=function(e){if(s.ballList[i][e]!=t)return 1;w(s.ballPreList[i][e].getComponent(L)).to(.2,{opacity:0}).call((function(){s.ballPreList[i][e].destroy(),s.ballList[i][e]=0})).start()},a=e-1;a>=0&&!l(a);a--);return 0},a.downBall=function(){var t=P(this.ball);this.bk.addChild(t),t.setPosition(new c(this.getRandomLength(-20,20),600,0))},a.leftMove=function(){},a.getRandomLength=function(t,i){var e=t,s=i-t;return s<0?0:Math.floor(Math.random()*s)+e},i}(v)).gameStat=void 0,Nt.ClearBallNum=void 0,Nt.gameLevel=void 0,$=i((Z=Nt).prototype,"ball",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=i(Z.prototype,"ball2",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=i(Z.prototype,"bk",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=i(Z.prototype,"barUp",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=i(Z.prototype,"barDown",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=i(Z.prototype,"leftBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=i(Z.prototype,"rightBar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=i(Z.prototype,"topBar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=i(Z.prototype,"mushroomUP",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=i(Z.prototype,"mushroomDown",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=i(Z.prototype,"redBar",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=i(Z.prototype,"posStart",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=i(Z.prototype,"posEnd",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i(Z.prototype,"oldX",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=i(Z.prototype,"oldY",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=i(Z.prototype,"newX",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=i(Z.prototype,"newY",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=i(Z.prototype,"fruit01",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=i(Z.prototype,"fruit02",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=i(Z.prototype,"fruit03",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=i(Z.prototype,"fruit04",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=i(Z.prototype,"ballList",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=i(Z.prototype,"ballPreList",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vt=i(Z.prototype,"audioClick",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=i(Z.prototype,"audioClear",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=i(Z.prototype,"audioEnd",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=i(Z.prototype,"audioGood",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xt=i(Z.prototype,"endShow",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=i(Z.prototype,"readyShow",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=i(Z.prototype,"msgLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=i(Z.prototype,"levelLabel",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=i(Z.prototype,"titleLable",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=i(Z.prototype,"bottomBar",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=i(Z.prototype,"bottomLb",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=Z))||J));a._RF.pop()}}}));

System.register("chunks:///_virtual/home.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,o,a,c,i,l,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,c=e._decorator,i=e.Node,l=e.sys,u=e.director,s=e.Component}],execute:function(){var m,p,d,f,g;a._RF.push({},"61af4/lvaVBtY8G6w6Khd/m","home",void 0);var h=c.ccclass,y=c.property;e("home",(m=h("home"),p=y(i),m((g=t((f=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,n(t,"startBtn",g,o(t)),t}r(t,e);var a=t.prototype;return a.start=function(){var e=l.localStorage.getItem("myName");null==e&&(e=this.getRandomName()+",无名氏",l.localStorage.setItem("myName",e)),u.preloadScene("game"),u.preloadScene("game2"),u.preloadScene("order")},a.update=function(e){},a.btnDown=function(){u.loadScene("game")},a.btnOrder=function(){u.loadScene("order")},a.btnGame2=function(){u.loadScene("game2")},a.getRandomName=function(){for(var e=new Date,t="wx"+e.getFullYear()+(e.getMonth()+1)+e.getDate()+e.getHours(),r=0;r<8;r++){t+=Math.floor(9*Math.random())}return t},t}(s)).prototype,"startBtn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./RewardManager.ts","./SidebarButton.ts","./ball.ts","./game.ts","./game2.ts","./home.ts","./order.ts"],(function(){return{setters:[null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/order.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,o,n,a,l,s,c,u,h,m,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Node,s=e.Prefab,c=e.sys,u=e.view,h=e.UITransform,m=e.director,p=e.Component}],execute:function(){var b,y,d,f,g,v,z,w,N,C,S;n._RF.push({},"74eb7sS4KpL05Ty55YojWsb","order",void 0);var H=a.ccclass,P=a.property;e("order",(b=H("order"),y=P(l),d=P(l),f=P(l),g=P(s),b((w=t((z=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).screenWidth=0,t.screenHeight=0,r(t,"bk",w,o(t)),r(t,"title",N,o(t)),r(t,"bottom",C,o(t)),r(t,"orderBar",S,o(t)),t.myName="",t.myCode="",t}i(t,e);var n=t.prototype;return n.start=function(){var e=c.localStorage.getItem("myName");if(null==this.myName)this.myName="无名氏",this.myCode="000000000";else{var t=e.indexOf(",");t>0?(this.myName=e.substr(t+1),this.myCode=e.substr(0,t)):(this.myName="无名氏",this.myCode="000000000")}this.screenWidth=u.getVisibleSize().width,this.screenHeight=u.getVisibleSize().height;var i=this.title.getComponent(h).height,r=this.screenHeight/2-55-i/2;this.title.setPosition(0,r)},n.update=function(e){},n.goHome=function(){m.loadScene("home",(function(){}))},t}(p)).prototype,"bk",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(z.prototype,"title",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(z.prototype,"bottom",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(z.prototype,"orderBar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=z))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/RewardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,o,a,i,c,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,c=e.Node,l=e.Component}],execute:function(){var s,u,p,d,f;a._RF.push({},"80f318+MKVF57C3HctKiOiC","RewardManager",void 0);var h=i.ccclass,w=i.property;e("RewardManager",(s=h("RewardManager"),u=w(c),s((f=n((d=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,r(n,"rewardPanel",f,o(n)),n.launchScene="",n}t(n,e);var a=n.prototype;return a.onLoad=function(){var e=this;if("undefined"!=typeof tt&&tt.onShow){tt.onShow((function(n){console.log("[onShow] 启动参数:",n),e.launchScene=n.scene||"",e.tryShowReward()}));var n=null==tt.getEnterOptionsSync?void 0:tt.getEnterOptionsSync();this.launchScene=(null==n?void 0:n.scene)||"",this.tryShowReward()}},a.tryShowReward=function(){"scene_reward_popup"===this.launchScene&&(console.log("✅ 从侧边栏启动，弹出奖励弹窗"),this.rewardPanel.active=!0)},a.onClickJumpSidebar=function(){var e=this;"undefined"!=typeof tt&&tt.navigateToScene&&tt.navigateToScene({scene:"scene_reward_popup",success:function(){console.log("成功跳转到侧边栏"),e.rewardPanel.active=!1},fail:function(e){console.error("跳转失败:",e)}})},n}(l)).prototype,"rewardPanel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/SidebarButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r,i,a,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Node,u=e.Component}],execute:function(){var l,s,p,d,f;i._RF.push({},"4d8e5dgnMpDTKB+A+FV2zzl","SidebarButton",void 0);var g=a.ccclass,b=a.property;e("SidebarButton",(l=g("SidebarButton"),s=b(c),l((f=t((d=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"targetNode",f,r(t)),t}return n(t,e),t.prototype.onClickSidebar=function(){"undefined"!=typeof tt&&tt.navigateToScene?tt.navigateToScene({scene:"sidebar",success:function(){console.log("跳转到抖音侧边栏成功")},fail:function(e){console.error("跳转失败",e)}}):console.warn("tt 对象不存在，可能不在抖音小游戏环境里运行")},t}(u)).prototype,"targetNode",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});